<!DOCTYPE html>
<svg width="960" height="960" font-family="sans-serif" font-size="10" text-anchor="middle"></svg>
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<meta charset="utf-8">
<script type="text/javascript" src="d3/d3.min.js"></script>
<script>
var nodes=[
{"id":"京城81号2","value":7766},
{"id":"一天","value":8441},
{"id":"22年后的自白：我是杀人犯","value":8214},
{"id":"浮生梦","value":7989},
{"id":"夏天19岁的肖像","value":5120},
{"id":"惊天解密","value":4238},
{"id":"黑夜造访","value":4021},
{"id":"拆弹专家","value":4477},
{"id":"墙里的声音","value":2749},
{"id":"记忆大师","value":3386},
{"id":"神秘家族","value":2964},
{"id":"梅格雷的十字路口之夜","value":2549},
{"id":"名侦探柯南：唐红的恋歌","value":3421},
{"id":"时间上的家","value":3177},
{"id":"暗黑女子","value":3195},
{"id":"嫌疑人X的献身","value":3421},
{"id":"目击者之追凶","value":3394},
{"id":"夜色撩人","value":2999},
{"id":"我们","value":2986},
{"id":"糜骨之壤","value":2828},
{"id":"命运晚餐","value":1931},
{"id":"逃出绝命镇","value":3211},
{"id":"忽然七日","value":2772},
{"id":"柏林综合症","value":2560},
{"id":"新娘","value":2380},
{"id":"疗养怨","value":2495},
{"id":"你好，疯子！","value":3467},
{"id":"那年夏天你去了哪里","value":3038},
{"id":"梅格雷的亡者","value":2354},
{"id":"绝对控制","value":2782},
{"id":"灵魂纸扎店","value":2824},
{"id":"罗曼蒂克消亡史","value":2568},
{"id":"生化危机：复仇","value":2601},
{"id":"BLAME!","value":2176},
{"id":"重返17岁","value":1757},
{"id":"P与JK","value":2610},
{"id":"黑子的篮球：最后的游戏","value":0},
{"id":"午睡公主","value":2011},
{"id":"啦啦队之舞：女高中生用啦啦队舞蹈征服全美的真实故事","value":1859},
{"id":"哆啦A梦：大雄的南极冰冰凉大冒险","value":2386},
{"id":"春&夏事件簿","value":2239},
{"id":"空白的13年","value":1603},
{"id":"今天的吉良同学","value":0},
{"id":"一周的朋友","value":2610},
{"id":"生存家族","value":1944},
{"id":"相棒剧场版4","value":2379},
{"id":"人生密密缝","value":2836},
{"id":"与君相恋100次","value":1725},
{"id":"伤痕累累的恶魔","value":1758},
{"id":"天才麻将少女 电影版","value":1991},
{"id":"奇迹，那天如此重要","value":2080},
{"id":"破门：两个疫病神","value":1800},
{"id":"一吻定情电影版2：大学篇","value":2165},
{"id":"黑执事：大西洋之书","value":2160},
{"id":"新宿天鹅2","value":1933},
{"id":"本能寺酒店","value":1879},
{"id":"珈百璃的堕落","value":2218},
{"id":"明天也有好吃的饭","value":2190},
{"id":"伤物语3：冷血篇","value":1729},
{"id":"明日的我与昨日的你约会","value":1887},
{"id":"鼹鼠之歌2：香港狂骚曲","value":2154},
{"id":"安昙春子下落不明","value":2273},
{"id":"古都","value":2238},
{"id":"白百合","value":2028},
{"id":"疾风回旋曲","value":2479},
{"id":"一吻定情电影版1：高中篇","value":0},
{"id":"圣之青春","value":2219},
{"id":"在这世界的角落","value":1850},
{"id":"老人交响乐团","value":2147},
{"id":"溺水小刀","value":2199},
{"id":"天呐我的丧尸！","value":2060},
{"id":"请和我的妻子结婚","value":2109},
{"id":"我的叔叔","value":1904},
{"id":"生日卡片","value":2083},
{"id":"暗金丑岛君：完结篇","value":2060},
{"id":"金牌男人","value":1907},
{"id":"杀戮都市：O","value":1699},
{"id":"父亲与伊藤先生","value":2130},
{"id":"恶魔蛙男","value":2459},
{"id":"少女","value":2178},
{"id":"早安秀","value":2498},
{"id":"滚烫的爱","value":2252},
{"id":"独家新闻","value":2313},
{"id":"数码宝贝大冒险tri. 第3章：告白","value":2291},
{"id":"爱哭鬼皮埃罗的婚礼","value":2411},
{"id":"暗金丑岛君3","value":2026},
{"id":"真田十勇士 真人版","value":2344},
{"id":"声之形","value":2283},
{"id":"跨越栅栏","value":2254},
{"id":"怒","value":2217},
{"id":"四月是你的谎言","value":2229},
{"id":"苦中带甜的滋味","value":2182},
{"id":"谁的木琴","value":2062},
{"id":"永远的托词","value":2021},
{"id":"反情色","value":1815},
{"id":"愚行录","value":2184},
{"id":"明明不喜欢","value":1933},
{"id":"异邦警察 电影版","value":2327},
{"id":"后妻业之女","value":2225},
{"id":"你的名字。","value":2189},
{"id":"恋妻家宫本","value":2381},
{"id":"青空呐喊","value":1965},
{"id":"伤物语2：热血篇","value":2249},
{"id":"秘密","value":2259},
{"id":"花芯","value":2161},
{"id":"黑猫鲁道夫","value":1904},
{"id":"我被爸爸绑架了","value":2374},
{"id":"新哥斯拉","value":2168},
{"id":"航海王之黄金城","value":1981},
{"id":"加速世界：无限超频","value":2133},
{"id":"屋顶的散步者","value":1947},
{"id":"热血街区电影版","value":3300},
{"id":"精灵宝可梦：波尔凯尼恩与机巧的玛机雅娜","value":0},
{"id":"最终幻想15：王者之剑","value":2222},
{"id":"森山中教习所","value":1955},
{"id":"全员单恋","value":1790},
{"id":"人狼游戏：越狱","value":2453},
{"id":"早死早投胎之地狱摇滚篇","value":2122},
{"id":"日本最坏的家伙们","value":2027},
{"id":"讨厌的女人","value":2507},
{"id":"贞子大战伽椰子","value":2039},
{"id":"葛城事件","value":1818},
{"id":"二重生活","value":2110},
{"id":"濑户内海","value":2219},
{"id":"昭和64年 后篇","value":2245},
{"id":"伤心往事","value":2215},
{"id":"夏美的萤火虫","value":2406},
{"id":"植物图鉴","value":2398},
{"id":"星笼之海","value":2399},
{"id":"高台家的成员","value":2199},
{"id":"团地","value":2036},
{"id":"狼少女与黑王子","value":2175},
{"id":"白昼之雨","value":2050},
{"id":"错乱的一代","value":1914},
{"id":"少女椿","value":1771},
{"id":"比海更深","value":1949},
{"id":"假如猫从世界上消失了","value":3073},
{"id":"临渊而立","value":2075},
{"id":"殿下，给点利息","value":2191},
{"id":"昭和64年 前篇","value":2376},
{"id":"英雄迷的生活","value":2283},
{"id":"亚人2：冲突","value":2417},
{"id":"花牌情缘 下之句","value":2444},
{"id":"火星异种","value":2509},
{"id":"读取记忆碎片的男人","value":2447},
{"id":"请叫我英雄","value":2658},
{"id":"游戏王：次元的黑暗面","value":0},
{"id":"告白实行委员会：从很久以前就喜欢你了","value":3016},
{"id":"太阳","value":2573},
{"id":"吹响悠风号：欢迎来到北宇治高中吹奏乐部","value":0},
{"id":"名侦探柯南：纯黑的恶梦","value":2798},
{"id":"蜡笔小新：梦境世界大突击","value":2648},
{"id":"莫西干回到故乡","value":2399},
{"id":"毒虫","value":2475},
{"id":"窥视之眸","value":2691},
{"id":"奇怪的她","value":2301},
{"id":"蜜之哀伤","value":2252},
{"id":"瑞普·凡·温克尔的新娘","value":2296},
{"id":"无伴奏","value":2267},
{"id":"暗杀教室：毕业篇","value":2400},
{"id":"花牌情缘 上之句","value":2599},
{"id":"只有我不在的街道","value":2514},
{"id":"家族之苦","value":2592},
{"id":"数码宝贝大冒险tri. 第2章：决意","value":2976},
{"id":"珠峰：神之山岭","value":0},
{"id":"哆啦A梦：新·大雄的日本诞生","value":2802},
{"id":"星丘车站失物招领","value":0},
{"id":"水手服与机关枪：毕业","value":2669},
{"id":"成年人的爱情故事","value":2178},
{"id":"我才不会对黑崎君说的话言听计从","value":2317},
{"id":"当女人沉睡时","value":2463},
{"id":"同级生","value":2671},
{"id":"毛骨悚然","value":2672},
{"id":"荔枝光俱乐部","value":0},
{"id":"亡国的阿基德最终章：致我所爱","value":0},
{"id":"头文字D新剧场版：梦现","value":2316},
{"id":"为什么猫都叫不来","value":2110},
{"id":"演员龟冈拓次","value":2190},
{"id":"信长协奏曲 电影版","value":2162},
{"id":"像“像那样的东西”那样的东西","value":2017},
{"id":"粉与灰","value":2414},
{"id":"玻璃之花与坏掉的世界","value":4568},
{"id":"人生的约定","value":2465},
{"id":"伤物语1：铁血篇","value":2096},
{"id":"少爷","value":2476},
{"id":"红鳉鱼","value":2476},
{"id":"山中的汤姆先生","value":0},
{"id":"樱桃小丸子：来自意大利的少年","value":2138},
{"id":"小花的味噌汤","value":2405},
{"id":"橘色奇迹","value":2789},
{"id":"如果和母亲一起生活","value":2291},
{"id":"欢乐时光","value":2083},
{"id":"人狼游戏：疯狂的狐狸","value":0},
{"id":"High☆Speed! -Free! Starting Days-","value":0},
{"id":"杉原千亩","value":2182},
{"id":"和谐","value":2548},
{"id":"亚人1：冲动","value":4568},
{"id":"少女与战车 剧场版","value":2539},
{"id":"雨树之国","value":0},
{"id":"剧场灵","value":1968},
{"id":"恋人们","value":2147},
{"id":"藤田嗣治","value":2225},
{"id":"蚱蜢","value":1968},
{"id":"剧场版MOZU","value":2140},
{"id":"为你取名的那一天","value":2078},
{"id":"俺物语","value":2504},
{"id":"残秽，不可以住的房间","value":2063},
{"id":"下众之爱","value":2149},
{"id":"再见","value":1782},
{"id":"银河街道","value":2692},
{"id":"我是和尚","value":2282},
{"id":"图书馆战争：记忆之书","value":2504},
{"id":"前辈和她","value":2728},
{"id":"探险队的荣光","value":2199},
{"id":"老师与流浪猫","value":2084},
{"id":"图书馆战争2：最后的任务","value":2955},
{"id":"食梦者","value":2151},
{"id":"罪的留白","value":2259},
{"id":"尸者帝国","value":2089},
{"id":"心灵想要大声呼喊","value":1946},
{"id":"西谎极落之太爆太子太空舱","value":1975},
{"id":"小戏骨：放开那三国","value":1995},
{"id":"杀人优越权","value":2009},
{"id":"星河战队：火星叛国者","value":2069},
{"id":"王牌保镖","value":2341},
{"id":"裸婚大喜","value":2197},
{"id":"安娜贝尔2：诞生","value":2126},
{"id":"星游记之风暴法米拉","value":2070},
{"id":"青年警察","value":2442},
{"id":"猎杀星期一","value":2390},
{"id":"六天","value":2254},
{"id":"军舰岛","value":2132},
{"id":"首杀","value":2722},
{"id":"海滩的一天","value":1677},
{"id":"悟空传","value":1884},
{"id":"伪婚男女","value":1886},
{"id":"难以置信","value":2386},
{"id":"再见时光","value":1900},
{"id":"绝命时钟2:22","value":2386},
{"id":"哀乐女子天团","value":1843},
{"id":"反转人生","value":2016},
{"id":"缉枪","value":2016},
{"id":"绝世高手","value":1836},
{"id":"我是马布里","value":0}];

var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

var format = d3.format(",d");

var color = d3.scaleOrdinal(d3.schemeCategory20c);

var pack = d3.pack()
    .size([width, height])
    .padding(1.5);

  var root = d3.hierarchy({children:nodes})
      .sum(function(d) { return d.value; })
      .each(function(d) {
        if (id = d.data.id) {
          var id, i = id.lastIndexOf(".");
          d.id = id;
          d.package = id.slice(0, i);
          d.class = id.slice(i + 1);
        }
      });

  var node = svg.selectAll(".node")
    .data(pack(root).leaves())
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

  node.append("circle")
      .attr("id", function(d) { return d.id; })
      .attr("r", function(d) { return d.r; })
      .style("fill", function(d) { return color(d.package); });

  node.append("clipPath")
      .attr("id", function(d) { return "clip-" + d.id; })
    .append("use")
      .attr("xlink:href", function(d) { return "#" + d.id; });

  node.append("text")
      .attr("clip-path", function(d) { return "url(#clip-" + d.id + ")"; })
    .selectAll("tspan")
    .data(function(d) { return d.class.split(/(?=[A-Z][^A-Z])/g); })
    .enter().append("tspan")
      .attr("x", 0)
      .attr("y", function(d, i, nodes) { return 13 + (i - nodes.length / 2 - 0.5) * 10; })
      .text(function(d) { return d; });

  node.append("title")
      .text(function(d) { return d.id + "\n" + format(d.value); });

</script>
