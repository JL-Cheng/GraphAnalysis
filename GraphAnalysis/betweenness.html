<!DOCTYPE html>
<svg width="960" height="960" font-family="sans-serif" font-size="10" text-anchor="middle"></svg>
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<meta charset="utf-8">
<script type="text/javascript" src="d3/d3.min.js"></script>
<script>
var nodes=[
{"id":"京城81号2","value":1579.5},
{"id":"一天","value":229.5},
{"id":"22年后的自白：我是杀人犯","value":457.5},
{"id":"浮生梦","value":1134.5},
{"id":"夏天19岁的肖像","value":2021},
{"id":"惊天解密","value":2461},
{"id":"黑夜造访","value":3337.5},
{"id":"拆弹专家","value":229},
{"id":"墙里的声音","value":5020.33},
{"id":"记忆大师","value":3749},
{"id":"神秘家族","value":756.5},
{"id":"梅格雷的十字路口之夜","value":5334.33},
{"id":"名侦探柯南：唐红的恋歌","value":232.5},
{"id":"时间上的家","value":329.5},
{"id":"暗黑女子","value":1098.33},
{"id":"嫌疑人X的献身","value":229.333},
{"id":"目击者之追凶","value":302.333},
{"id":"夜色撩人","value":229.333},
{"id":"我们","value":2364.17},
{"id":"糜骨之壤","value":229.333},
{"id":"命运晚餐","value":3222.28},
{"id":"逃出绝命镇","value":655.333},
{"id":"忽然七日","value":3224.67},
{"id":"柏林综合症","value":4498.67},
{"id":"新娘","value":2392.17},
{"id":"疗养怨","value":1310.09},
{"id":"你好，疯子！","value":229},
{"id":"那年夏天你去了哪里","value":233.5},
{"id":"梅格雷的亡者","value":10010},
{"id":"绝对控制","value":702.333},
{"id":"灵魂纸扎店","value":662.333},
{"id":"罗曼蒂克消亡史","value":363.667},
{"id":"生化危机：复仇","value":1558.83},
{"id":"BLAME!","value":12534},
{"id":"重返17岁","value":5422.54},
{"id":"P与JK","value":456.333},
{"id":"黑子的篮球：最后的游戏","value":0},
{"id":"午睡公主","value":13399.1},
{"id":"啦啦队之舞：女高中生用啦啦队舞蹈征服全美的真实故事","value":6039.09},
{"id":"哆啦A梦：大雄的南极冰冰凉大冒险","value":1579.67},
{"id":"春&夏事件簿","value":557.033},
{"id":"空白的13年","value":22444.1},
{"id":"今天的吉良同学","value":0},
{"id":"一周的朋友","value":456.333},
{"id":"生存家族","value":2021.33},
{"id":"相棒剧场版4","value":978.03},
{"id":"人生密密缝","value":229.667},
{"id":"与君相恋100次","value":6064.98},
{"id":"伤痕累累的恶魔","value":10024.5},
{"id":"天才麻将少女 电影版","value":1965.56},
{"id":"奇迹，那天如此重要","value":1572.9},
{"id":"破门：两个疫病神","value":9288.31},
{"id":"一吻定情电影版2：大学篇","value":2762.6},
{"id":"黑执事：大西洋之书","value":2234.22},
{"id":"新宿天鹅2","value":1984.95},
{"id":"本能寺酒店","value":12051.2},
{"id":"珈百璃的堕落","value":1241.59},
{"id":"明天也有好吃的饭","value":1012.02},
{"id":"伤物语3：冷血篇","value":9989.07},
{"id":"明日的我与昨日的你约会","value":2555.55},
{"id":"鼹鼠之歌2：香港狂骚曲","value":717.221},
{"id":"安昙春子下落不明","value":990.294},
{"id":"古都","value":569.573},
{"id":"白百合","value":1535.43},
{"id":"疾风回旋曲","value":229.5},
{"id":"一吻定情电影版1：高中篇","value":0},
{"id":"圣之青春","value":1353.59},
{"id":"在这世界的角落","value":4321.57},
{"id":"老人交响乐团","value":812.2},
{"id":"溺水小刀","value":893.2},
{"id":"天呐我的丧尸！","value":2029.31},
{"id":"请和我的妻子结婚","value":422.886},
{"id":"我的叔叔","value":2248.9},
{"id":"生日卡片","value":1053.74},
{"id":"暗金丑岛君：完结篇","value":1731.62},
{"id":"金牌男人","value":1334.85},
{"id":"杀戮都市：O","value":10485.4},
{"id":"父亲与伊藤先生","value":1581.29},
{"id":"恶魔蛙男","value":1162.22},
{"id":"少女","value":1289.36},
{"id":"早安秀","value":229.667},
{"id":"滚烫的爱","value":1148.53},
{"id":"独家新闻","value":1244.73},
{"id":"数码宝贝大冒险tri. 第3章：告白","value":1108.79},
{"id":"爱哭鬼皮埃罗的婚礼","value":763.479},
{"id":"暗金丑岛君3","value":649.667},
{"id":"真田十勇士 真人版","value":981.398},
{"id":"声之形","value":551.762},
{"id":"跨越栅栏","value":1228.4},
{"id":"怒","value":266.5},
{"id":"四月是你的谎言","value":1712.99},
{"id":"苦中带甜的滋味","value":1257.51},
{"id":"谁的木琴","value":2506.82},
{"id":"永远的托词","value":1001.93},
{"id":"反情色","value":2218.08},
{"id":"愚行录","value":880.986},
{"id":"明明不喜欢","value":6651.24},
{"id":"异邦警察 电影版","value":229.333},
{"id":"后妻业之女","value":917.967},
{"id":"你的名字。","value":1149.71},
{"id":"恋妻家宫本","value":677.933},
{"id":"青空呐喊","value":7276.37},
{"id":"伤物语2：热血篇","value":1057.63},
{"id":"秘密","value":854.234},
{"id":"花芯","value":1568.67},
{"id":"黑猫鲁道夫","value":10181.9},
{"id":"我被爸爸绑架了","value":347.719},
{"id":"新哥斯拉","value":1343.03},
{"id":"航海王之黄金城","value":806.139},
{"id":"加速世界：无限超频","value":229.393},
{"id":"屋顶的散步者","value":2106.99},
{"id":"热血街区电影版","value":230},
{"id":"精灵宝可梦：波尔凯尼恩与机巧的玛机雅娜","value":0},
{"id":"最终幻想15：王者之剑","value":756.629},
{"id":"森山中教习所","value":2533.59},
{"id":"全员单恋","value":3429.7},
{"id":"人狼游戏：越狱","value":484.286},
{"id":"早死早投胎之地狱摇滚篇","value":561},
{"id":"日本最坏的家伙们","value":1287.1},
{"id":"讨厌的女人","value":377.619},
{"id":"贞子大战伽椰子","value":229.667},
{"id":"葛城事件","value":2119.8},
{"id":"二重生活","value":1610.74},
{"id":"濑户内海","value":918.729},
{"id":"昭和64年 后篇","value":1601.76},
{"id":"伤心往事","value":2332.48},
{"id":"夏美的萤火虫","value":1025.03},
{"id":"植物图鉴","value":365.271},
{"id":"星笼之海","value":894.197},
{"id":"高台家的成员","value":1714.94},
{"id":"团地","value":1779.11},
{"id":"狼少女与黑王子","value":1697.47},
{"id":"白昼之雨","value":1424.98},
{"id":"错乱的一代","value":2578.36},
{"id":"少女椿","value":4657.88},
{"id":"比海更深","value":3209.6},
{"id":"假如猫从世界上消失了","value":684},
{"id":"临渊而立","value":3957.08},
{"id":"殿下，给点利息","value":2718.68},
{"id":"昭和64年 前篇","value":839.627},
{"id":"英雄迷的生活","value":1639.82},
{"id":"亚人2：冲突","value":229.333},
{"id":"花牌情缘 下之句","value":438.5},
{"id":"火星异种","value":748.194},
{"id":"读取记忆碎片的男人","value":1688.42},
{"id":"请叫我英雄","value":651.691},
{"id":"游戏王：次元的黑暗面","value":0},
{"id":"告白实行委员会：从很久以前就喜欢你了","value":230},
{"id":"太阳","value":968.774},
{"id":"吹响悠风号：欢迎来到北宇治高中吹奏乐部","value":0},
{"id":"名侦探柯南：纯黑的恶梦","value":232.5},
{"id":"蜡笔小新：梦境世界大突击","value":506.694},
{"id":"莫西干回到故乡","value":229.667},
{"id":"毒虫","value":2172.73},
{"id":"窥视之眸","value":531.12},
{"id":"奇怪的她","value":3849.55},
{"id":"蜜之哀伤","value":5131.32},
{"id":"瑞普·凡·温克尔的新娘","value":4204.02},
{"id":"无伴奏","value":3988.3},
{"id":"暗杀教室：毕业篇","value":1507.4},
{"id":"花牌情缘 上之句","value":487.226},
{"id":"只有我不在的街道","value":698.042},
{"id":"家族之苦","value":618.29},
{"id":"数码宝贝大冒险tri. 第2章：决意","value":229},
{"id":"珠峰：神之山岭","value":0},
{"id":"哆啦A梦：新·大雄的日本诞生","value":262.833},
{"id":"星丘车站失物招领","value":0},
{"id":"水手服与机关枪：毕业","value":493.851},
{"id":"成年人的爱情故事","value":4307.22},
{"id":"我才不会对黑崎君说的话言听计从","value":1911.54},
{"id":"当女人沉睡时","value":1284.6},
{"id":"同级生","value":379.707},
{"id":"毛骨悚然","value":422.538},
{"id":"荔枝光俱乐部","value":0},
{"id":"亡国的阿基德最终章：致我所爱","value":0},
{"id":"头文字D新剧场版：梦现","value":1580.64},
{"id":"为什么猫都叫不来","value":4426.61},
{"id":"演员龟冈拓次","value":4428.46},
{"id":"信长协奏曲 电影版","value":2135.84},
{"id":"像“像那样的东西”那样的东西","value":6578.91},
{"id":"粉与灰","value":1544.72},
{"id":"玻璃之花与坏掉的世界","value":230},
{"id":"人生的约定","value":1646.97},
{"id":"伤物语1：铁血篇","value":3408.97},
{"id":"少爷","value":702.383},
{"id":"红鳉鱼","value":702.383},
{"id":"山中的汤姆先生","value":0},
{"id":"樱桃小丸子：来自意大利的少年","value":1896.12},
{"id":"小花的味噌汤","value":943.409},
{"id":"橘色奇迹","value":684},
{"id":"如果和母亲一起生活","value":1633.29},
{"id":"欢乐时光","value":1463.07},
{"id":"人狼游戏：疯狂的狐狸","value":0},
{"id":"High☆Speed! -Free! Starting Days-","value":0},
{"id":"杉原千亩","value":1947.65},
{"id":"和谐","value":229},
{"id":"亚人1：冲动","value":230},
{"id":"少女与战车 剧场版","value":1133.5},
{"id":"雨树之国","value":0},
{"id":"剧场灵","value":2373.32},
{"id":"恋人们","value":1576.25},
{"id":"藤田嗣治","value":2241.01},
{"id":"蚱蜢","value":6838.12},
{"id":"剧场版MOZU","value":1324.1},
{"id":"为你取名的那一天","value":1108.26},
{"id":"俺物语","value":680},
{"id":"残秽，不可以住的房间","value":2868.75},
{"id":"下众之爱","value":262.833},
{"id":"再见","value":9679.58},
{"id":"银河街道","value":229.333},
{"id":"我是和尚","value":2022},
{"id":"图书馆战争：记忆之书","value":680},
{"id":"前辈和她","value":684.667},
{"id":"探险队的荣光","value":959.286},
{"id":"老师与流浪猫","value":953.183},
{"id":"图书馆战争2：最后的任务","value":229.333},
{"id":"食梦者","value":663.312},
{"id":"罪的留白","value":229.583},
{"id":"尸者帝国","value":1390.91},
{"id":"心灵想要大声呼喊","value":3881.95},
{"id":"西谎极落之太爆太子太空舱","value":1726.94},
{"id":"小戏骨：放开那三国","value":399.229},
{"id":"杀人优越权","value":229.167},
{"id":"星河战队：火星叛国者","value":2261.62},
{"id":"王牌保镖","value":557.521},
{"id":"裸婚大喜","value":1919.42},
{"id":"安娜贝尔2：诞生","value":229.486},
{"id":"星游记之风暴法米拉","value":2086.08},
{"id":"青年警察","value":258.467},
{"id":"猎杀星期一","value":1344.6},
{"id":"六天","value":842.345},
{"id":"军舰岛","value":578.491},
{"id":"首杀","value":229.5},
{"id":"海滩的一天","value":16419.5},
{"id":"悟空传","value":6369.44},
{"id":"伪婚男女","value":869.062},
{"id":"难以置信","value":229.619},
{"id":"再见时光","value":229.617},
{"id":"绝命时钟2:22","value":229.619},
{"id":"哀乐女子天团","value":350.802},
{"id":"反转人生","value":262.377},
{"id":"缉枪","value":273.245},
{"id":"绝世高手","value":5916.18},
{"id":"我是马布里","value":0}];

var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

var format = d3.format(",d");

var color = d3.scaleOrdinal(d3.schemeCategory20c);

var pack = d3.pack()
    .size([width, height])
    .padding(1.5);

  var root = d3.hierarchy({children:nodes})
      .sum(function(d) { return d.value; })
      .each(function(d) {
        if (id = d.data.id) {
          var id, i = id.lastIndexOf(".");
          d.id = id;
          d.package = id.slice(0, i);
          d.class = id.slice(i + 1);
        }
      });

  var node = svg.selectAll(".node")
    .data(pack(root).leaves())
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

  node.append("circle")
      .attr("id", function(d) { return d.id; })
      .attr("r", function(d) { return d.r; })
      .style("fill", function(d) { return color(d.package); });

  node.append("clipPath")
      .attr("id", function(d) { return "clip-" + d.id; })
    .append("use")
      .attr("xlink:href", function(d) { return "#" + d.id; });

  node.append("text")
      .attr("clip-path", function(d) { return "url(#clip-" + d.id + ")"; })
    .selectAll("tspan")
    .data(function(d) { return d.class.split(/(?=[A-Z][^A-Z])/g); })
    .enter().append("tspan")
      .attr("x", 0)
      .attr("y", function(d, i, nodes) { return 13 + (i - nodes.length / 2 - 0.5) * 10; })
      .text(function(d) { return d; });

  node.append("title")
      .text(function(d) { return d.id + "\n" + format(d.value); });

</script>
